{"ast":null,"code":"import $ from \"jquery\";\nimport DataTable from \"datatables.net-bs4\";\nimport jszip from 'jszip';\nimport 'datatables.net-buttons-bs4';\nimport 'datatables.net-buttons/js/buttons.colVis.mjs';\nimport 'datatables.net-buttons/js/buttons.html5.mjs';\nimport 'datatables.net-colreorder-bs4';\nimport { getAllProducts } from \"@/services/ProductService\";\nimport CreateProductModal from \"@/components/forms/CreateProductModal.vue\";\nimport ImportProductsModal from \"@/components/forms/ImportProductsModal.vue\";\nwindow.JSZip = jszip;\nexport default {\n  name: \"NewProductsMasterList\",\n  components: {\n    CreateProductModal,\n    ImportProductsModal,\n    DataTable\n  },\n  data: function () {\n    return {\n      totalRows: 1,\n      sortable: false,\n      footerBgVariant: \"light\",\n      downloadFileName: \"productsMasterList.csv\",\n      newProductGroup: {\n        _id: \"\",\n        productName: \"\",\n        productSubGroupPrefix: \"\",\n        computedProductName: \"\",\n        hamaliPerBag: \"\",\n        platformCooliePerBag: \"\",\n        kataCooliePerBag: \"\",\n        mamulluPerBag: \"\",\n        monthlyRentPerBag: \"\",\n        yearlyRentPerBag: \"\",\n        insurancePerBag: \"\",\n        yearlyRentPerKg: \"\",\n        bagSize: \"\",\n        computedYearlyRentPerBag: \"\",\n        creationDate: \"\"\n      },\n      fields: [{\n        data: \"productName\",\n        title: \"Product Name\"\n      }, {\n        data: \"productSubGroupPrefix\",\n        title: \"Product Group Prefix\"\n      }, {\n        data: \"computedProductName\",\n        title: \"Computed Product Name\"\n      }, {\n        data: \"hamaliPerBag\",\n        title: \"Hamali per bag\",\n        class: \"text-center\"\n      }, {\n        data: \"platformCooliePerBag\",\n        title: \"Platform Coolie per bag\",\n        class: \"text-center\"\n      }, {\n        data: \"kataCooliePerBag\",\n        title: \"Kata Coolie per bag\",\n        class: \"text-center\"\n      }, {\n        data: \"mamulluPerBag\",\n        title: \"Mamullu per bag\",\n        class: \"text-center\"\n      }, {\n        data: \"monthlyRentPerBag\",\n        title: \"Monthly rent per bag\",\n        class: \"text-center\"\n      }, {\n        data: \"yearlyRentPerBag\",\n        title: \"Yearly rent per bag\",\n        class: \"text-center\"\n      }, {\n        data: \"insurancePerBag\",\n        title: \"Insurance per bag\",\n        class: \"text-center\"\n      }, {\n        data: \"yearlyRentPerKg\",\n        title: \" Yearly rent per kg\",\n        class: \"text-center\"\n      }, {\n        data: \"bagSize\",\n        title: \"Bag size in kgs\",\n        render: function (bagSize) {\n          return bagSize + \" kgs\";\n        },\n        class: \"text-center\"\n      }, {\n        data: \"computedYearlyRentPerBag\",\n        title: \"Computed Yearly rent per bag\",\n        class: \"text-center\"\n      }, {\n        data: \"creationDate\",\n        title: \"Creation Date\",\n        render: function (creationDate) {\n          return new Date(creationDate).toLocaleDateString();\n        }\n      }],\n      items: []\n    };\n  },\n  created() {\n    getAllProducts().then(response => {\n      this.items = response;\n      this.totalRows = this.items.length;\n      $(\"#app-table-list\").DataTable({\n        paging: true,\n        searching: true,\n        ordering: true,\n        scrollX: true,\n        columns: this.fields,\n        data: this.items,\n        colReorder: true,\n        dom: \"<'row'<'col-md-6'B><'col-md-2'l><'col-md-4'f>>\" + \"<'row'<'col-md-12'tr>>\" + \"<'row'<'col-md-5'i><'col-md-7'p>>\",\n        buttons: [{\n          extend: 'collection',\n          text: 'Export',\n          autoClose: true,\n          buttons: ['csv', 'excel', 'pdf'],\n          collectionLayout: 'dropdown'\n        }, {\n          extend: 'colvis',\n          text: 'Show/Hide Columns',\n          postfixButtons: ['colvisRestore']\n        }],\n        columnDefs: [{\n          targets: [2, -1],\n          visible: false\n        }]\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  },\n  computed: {\n    rows() {\n      this.totalRows = this.items.length;\n      return this.items.length;\n    }\n  },\n  methods: {\n    edit(item, index, button) {\n      // this.infoModal.title = `Row index: ${index}`\n      // this.infoModal.content = JSON.stringify(item, null, 2)\n      // this.$root.$emit('bv::show::modal', this.infoModal.id, button)\n    },\n    delete(item, index, button) {\n      // this.infoModal.title = `Row index: ${index}`\n      // this.infoModal.content = JSON.stringify(item, null, 2)\n      // this.$root.$emit('bv::show::modal', this.infoModal.id, button)\n    },\n    onFiltered(filteredItems) {\n      // Trigger pagination to update the number of buttons/pages due to filtering\n      this.totalRows = filteredItems.length;\n      this.currentPage = 1;\n    }\n  }\n};","map":{"version":3,"names":["$","DataTable","jszip","getAllProducts","CreateProductModal","ImportProductsModal","window","JSZip","name","components","data","totalRows","sortable","footerBgVariant","downloadFileName","newProductGroup","_id","productName","productSubGroupPrefix","computedProductName","hamaliPerBag","platformCooliePerBag","kataCooliePerBag","mamulluPerBag","monthlyRentPerBag","yearlyRentPerBag","insurancePerBag","yearlyRentPerKg","bagSize","computedYearlyRentPerBag","creationDate","fields","title","class","render","Date","toLocaleDateString","items","created","then","response","length","paging","searching","ordering","scrollX","columns","colReorder","dom","buttons","extend","text","autoClose","collectionLayout","postfixButtons","columnDefs","targets","visible","catch","error","console","log","computed","rows","methods","edit","item","index","button","delete","onFiltered","filteredItems","currentPage"],"sources":["src/pages/referenceData/NewProductsMasterList.vue"],"sourcesContent":["<template>\n    <div class=\"tables\">\n        <div class=\"page-header\">\n            <h3 class=\"page-title\">\n                Products\n            </h3>\n            <nav aria-label=\"breadcrumb\">\n                <ol class=\"breadcrumb\">\n                    <li class=\"breadcrumb-item\"><a href=\"javascript:void(0);\">Reference Data</a></li>\n                    <li class=\"breadcrumb-item active\" aria-current=\"page\">New Products</li>\n                </ol>\n            </nav>\n        </div>\n        <div class=\"row col-lg-12 grid-margin stretch-card\">\n            <div class=\"card\">\n                <div class=\"card-body\">\n                    <div class=\"row template-demo\">\n                        <div class=\"col-md-6\">\n                            <h4 class=\"card-title\">New Products ( {{ rows }} )</h4>\n                            <!-- <download-csv\n\t                            class=\"btn btn-default\" :data=\"items\" :fields=\"fields\" :name=\"downloadFileName\" >\n                                Download Data\n                                <i class=\"mdi mdi-download btn-icon-prepend\"></i>\n                            </download-csv> -->\n                        </div>\n                        <div class=\"col-md-6\" align=\"right\">\n                            <button v-b-modal.createProductModal type=\"button\"\n                                class=\"btn btn-gradient-primary btn-icon-text\">\n                                <i class=\"mdi mdi-account-plus btn-icon-prepend\"></i>\n                                Create\n                            </button>\n                            <CreateProductModal></CreateProductModal>\n                        </div>\n                    </div>\n\n                    <br />\n                    <table id=\"app-table-list\" class=\"table hover row-border stripe order-column\" style=\"width:100%\"></table>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport $ from \"jquery\";\n\nimport DataTable from \"datatables.net-bs4\";\nimport jszip from 'jszip';\nimport 'datatables.net-buttons-bs4';\nimport 'datatables.net-buttons/js/buttons.colVis.mjs';\nimport 'datatables.net-buttons/js/buttons.html5.mjs';\nimport 'datatables.net-colreorder-bs4';\n\nimport { getAllProducts } from \"@/services/ProductService\";\nimport CreateProductModal from \"@/components/forms/CreateProductModal.vue\";\nimport ImportProductsModal from \"@/components/forms/ImportProductsModal.vue\";\nwindow.JSZip = jszip;\n\nexport default {\n    name: \"NewProductsMasterList\",\n    components: {\n        CreateProductModal,\n        ImportProductsModal,\n        DataTable\n    },\n    data: function () {\n        return {\n            totalRows: 1,\n            sortable: false,\n            footerBgVariant: \"light\",\n            downloadFileName: \"productsMasterList.csv\",\n            newProductGroup: {\n                _id: \"\",\n                productName: \"\",\n                productSubGroupPrefix: \"\",\n                computedProductName: \"\",\n                hamaliPerBag: \"\",\n                platformCooliePerBag: \"\",\n                kataCooliePerBag: \"\",\n                mamulluPerBag: \"\",\n                monthlyRentPerBag: \"\",\n                yearlyRentPerBag: \"\",\n                insurancePerBag: \"\",\n                yearlyRentPerKg: \"\",\n                bagSize: \"\",\n                computedYearlyRentPerBag: \"\",\n                creationDate: \"\"\n            },\n            fields: [\n                { data : \"productName\", title: \"Product Name\" },\n                { data : \"productSubGroupPrefix\", title: \"Product Group Prefix\" },\n                { data : \"computedProductName\", title: \"Computed Product Name\" },\n                { data: \"hamaliPerBag\", title: \"Hamali per bag\", class: \"text-center\" },\n                { data: \"platformCooliePerBag\", title: \"Platform Coolie per bag\", class: \"text-center\" },\n                { data: \"kataCooliePerBag\", title: \"Kata Coolie per bag\", class: \"text-center\" },\n                { data: \"mamulluPerBag\", title: \"Mamullu per bag\", class: \"text-center\" },\n                { data: \"monthlyRentPerBag\", title: \"Monthly rent per bag\", class: \"text-center\" },\n                { data: \"yearlyRentPerBag\", title: \"Yearly rent per bag\", class: \"text-center\" },\n                { data: \"insurancePerBag\", title: \"Insurance per bag\", class: \"text-center\" },\n                { data: \"yearlyRentPerKg\", title: \" Yearly rent per kg\", class: \"text-center\" },\n                { data: \"bagSize\", title: \"Bag size in kgs\", render: function(bagSize) { return (bagSize + \" kgs\"); }, class: \"text-center\" },\n                { data: \"computedYearlyRentPerBag\", title: \"Computed Yearly rent per bag\", class: \"text-center\"  },\n                { data: \"creationDate\", title: \"Creation Date\", render : function(creationDate) { return (new Date(creationDate)).toLocaleDateString();} }\n            ],\n            items: []\n        };\n    },\n    created() {\n        getAllProducts().then(response => {\n            this.items = response;\n            this.totalRows = this.items.length;\n            $(\"#app-table-list\").DataTable({\n                paging: true,\n                searching: true,\n                ordering: true,\n                scrollX: true,\n                columns: this.fields,\n                data: this.items,\n                colReorder: true,\n                dom: \"<'row'<'col-md-6'B><'col-md-2'l><'col-md-4'f>>\" +\n                    \"<'row'<'col-md-12'tr>>\" +\n                    \"<'row'<'col-md-5'i><'col-md-7'p>>\",\n                buttons: [ \n                    {\n                        extend: 'collection',\n                        text: 'Export',\n                        autoClose: true,\n                        buttons: [ 'csv', 'excel', 'pdf' ],\n                        collectionLayout: 'dropdown'\n                    },\n                    {\n                        extend: 'colvis',\n                        text: 'Show/Hide Columns',\n                        postfixButtons: ['colvisRestore']\n\n                    }\n                ],\n                columnDefs: [\n                    {\n                        targets: [2, -1],\n                        visible: false\n                    }\n                ]\n            });\n        }).catch(error => {\n            console.log(error);\n        });\n    },\n    computed: {\n        rows() {\n            this.totalRows = this.items.length\n            return this.items.length;\n        }\n    },\n    methods: {\n        edit(item, index, button) {\n            // this.infoModal.title = `Row index: ${index}`\n            // this.infoModal.content = JSON.stringify(item, null, 2)\n            // this.$root.$emit('bv::show::modal', this.infoModal.id, button)\n        },\n        delete(item, index, button) {\n            // this.infoModal.title = `Row index: ${index}`\n            // this.infoModal.content = JSON.stringify(item, null, 2)\n            // this.$root.$emit('bv::show::modal', this.infoModal.id, button)\n        },\n        onFiltered(filteredItems) {\n            // Trigger pagination to update the number of buttons/pages due to filtering\n            this.totalRows = filteredItems.length\n            this.currentPage = 1\n        }\n    }\n}\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}