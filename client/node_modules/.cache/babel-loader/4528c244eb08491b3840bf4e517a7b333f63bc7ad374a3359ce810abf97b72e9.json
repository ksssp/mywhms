{"ast":null,"code":"import Vue from \"vue\";\nimport SortedTablePlugin from \"vue-sorted-table\";\nimport CreateDeliveryModal from \"@/components/forms/CreateDeliveryModal.vue\";\nimport ImportModal from \"@/components/forms/ImportModal.vue\";\nimport { getAllDeliveries } from \"@/services/DeliveryService\";\nVue.use(SortedTablePlugin, {\n  ascIcon: '<i class=\"mdi mdi-arrow-down\"></i>',\n  descIcon: '<i class=\"mdi mdi-arrow-up\"></i>'\n});\nexport default {\n  name: \"DeliveriesList\",\n  components: {\n    CreateDeliveryModal,\n    ImportModal\n  },\n  data: function () {\n    return {\n      perPage: 10,\n      totalRows: 1,\n      currentPage: 1,\n      pageOptions: [{\n        value: 0,\n        text: \"Per page\"\n      }, 5, 10, 25, 50],\n      sortBy: \"deliveryDate\",\n      sortDesc: true,\n      sortByFormatted: true,\n      filter: null,\n      filterByFormatted: true,\n      sortable: true,\n      footerBgVariant: \"light\",\n      fields: [{\n        key: \"deliveryDate\",\n        sortable: true\n      }, {\n        key: \"lotNumber\",\n        sortable: true\n      }, {\n        key: \"trademark.trademark\",\n        label: \"Trademark\",\n        sortable: true\n      }, {\n        key: \"trademark.customerName\",\n        label: \"Customer Name\",\n        sortable: true\n      }, {\n        key: \"productName\",\n        label: \"Product Name\",\n        sortable: true\n      }, {\n        key: \"numBagsDelivered\",\n        label: \"Delivered Bags\",\n        sortable: true\n      }, {\n        key: \"numBagsLodged\",\n        label: \"Lodged Bags\",\n        sortable: true\n      }, {\n        key: \"numBagsBalance\",\n        label: \"Balance Bags\",\n        sortable: true\n      }, {\n        key: \"locationCodes\",\n        sortable: true\n      }, {\n        key: \"lodgementDate\",\n        sortable: true\n      }, {\n        key: \"numMonthsLodged\",\n        label: \"Months Lodged\",\n        sortable: true\n      }, {\n        key: \"transportChargesPaid.$numberDecimal\",\n        label: \"Transport Charges Paid\",\n        sortable: true\n      }, {\n        key: \"totalChargesReceivable.$numberDecimal\",\n        label: \"Total Charges Receivable\"\n      }, {\n        key: \"totalChargesReceived.$numberDecimal\",\n        label: \"Total Charges Received\"\n      }, {\n        key: \"rents.rentalMode\",\n        label: \"Rental Mode\",\n        sortable: true\n      }, {\n        key: \"rents.rentalYear\",\n        label: \"Rental Year\",\n        sortable: true\n      }, {\n        key: \"rents.totalRentReceivable.$numberDecimal\",\n        label: \"Total Rent Receivable\"\n      }, {\n        key: \"rents.totalRentReceived.$numberDecimal\",\n        label: \"Total Rent Received\"\n      }, {\n        key: \"vehicleNumber\"\n      }, {\n        key: \"driverName\"\n      }, {\n        key: \"deliveryNotes\"\n      }],\n      items: [],\n      importModalTitle: \"Import Deliveries\",\n      importDataUrl: \"javascript:void(0);\",\n      trademarkOptions: []\n    };\n  },\n  created() {\n    getAllDeliveries().then(response => {\n      this.items = response;\n      this.totalRows = this.items.length;\n    });\n  },\n  methods: {\n    onFiltered(filteredItems) {\n      // Trigger pagination to update the number of buttons/pages due to filtering\n      this.totalRows = filteredItems.length;\n      this.currentPage = 1;\n    },\n    rowClicked(item, index, event) {\n      console.log(\"row clicked : \", item);\n      let route = this.$router.resolve({\n        path: '/inventory/lots/' + item.lotId\n      });\n      // let route = this.$router.resolve('/link/to/page'); // This also works.\n      window.open(route.href, '_blank');\n\n      // this.$router.push(item._id);\n    }\n  }\n};","map":{"version":3,"names":["Vue","SortedTablePlugin","CreateDeliveryModal","ImportModal","getAllDeliveries","use","ascIcon","descIcon","name","components","data","perPage","totalRows","currentPage","pageOptions","value","text","sortBy","sortDesc","sortByFormatted","filter","filterByFormatted","sortable","footerBgVariant","fields","key","label","items","importModalTitle","importDataUrl","trademarkOptions","created","then","response","length","methods","onFiltered","filteredItems","rowClicked","item","index","event","console","log","route","$router","resolve","path","lotId","window","open","href"],"sources":["src/pages/inventory/DeliveriesList.vue"],"sourcesContent":["<template>\n    <div class=\"tables\">\n        <div class=\"page-header\">\n            <h3 class=\"page-title\">\n                Deliveries\n            </h3>\n            <nav aria-label=\"breadcrumb\">\n                <ol class=\"breadcrumb\">\n                    <li class=\"breadcrumb-item\"><a href=\"javascript:void(0);\">Inventory</a></li>\n                    <li class=\"breadcrumb-item active\" aria-current=\"page\">Deliveries</li>\n                </ol>\n            </nav>\n        </div>\n        <div class=\"row col-lg-12 grid-margin stretch-card\">\n            <div class=\"card\">\n                <div class=\"card-body\">\n                    <div class=\"row template-demo\">\n                        <div class=\"col-md-6\">\n                            <h4 class=\"card-title\">Deliveries ( {{ totalRows }} )</h4>\n                        </div>\n                        <div class=\"col-md-6\" align=\"right\">\n                            <button type=\"button\" v-b-modal.createDeliveryModal \n                                class=\"btn btn-gradient-primary btn-icon-text\">\n                                <i class=\"mdi mdi-account-plus btn-icon-prepend\"></i>\n                                Create\n                            </button>\n                        </div>\n                    </div>\n                    <br />\n                    \n                    <AppDataTable v-if=\"items\" :download-file-name=\"downloadFileName\" :fields=\"fields\" :fieldDefs=\"fieldDefs\" :table-data=\"items\"></AppDataTable>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport SortedTablePlugin from \"vue-sorted-table\";\nimport CreateDeliveryModal from \"@/components/forms/CreateDeliveryModal.vue\";\nimport ImportModal from \"@/components/forms/ImportModal.vue\";\n\nimport { getAllDeliveries } from \"@/services/DeliveryService\";\n\nVue.use(SortedTablePlugin, {\n    ascIcon: '<i class=\"mdi mdi-arrow-down\"></i>',\n    descIcon: '<i class=\"mdi mdi-arrow-up\"></i>'\n});\n\nexport default {\n    name: \"DeliveriesList\",\n    components: {\n        CreateDeliveryModal,\n        ImportModal\n    },\n    data: function () {\n        return {\n            perPage: 10,\n            totalRows: 1,\n            currentPage: 1,\n            pageOptions: [{ value: 0, text: \"Per page\" }, 5, 10, 25, 50],\n            sortBy: \"deliveryDate\",\n            sortDesc: true,\n            sortByFormatted: true,\n            filter: null,\n            filterByFormatted: true,\n            sortable: true,\n            footerBgVariant: \"light\",\n            fields: [\n                { key: \"deliveryDate\", sortable: true },\n                { key: \"lotNumber\", sortable: true },\n                { key: \"trademark.trademark\", label: \"Trademark\", sortable: true },\n                { key: \"trademark.customerName\", label: \"Customer Name\", sortable: true },\n                { key: \"productName\", label: \"Product Name\", sortable: true },\n                { key: \"numBagsDelivered\", label: \"Delivered Bags\", sortable: true },\n                { key: \"numBagsLodged\", label: \"Lodged Bags\", sortable: true },\n                { key: \"numBagsBalance\", label: \"Balance Bags\", sortable: true },\n                { key: \"locationCodes\", sortable: true },\n                { key: \"lodgementDate\", sortable: true },\n                { key: \"numMonthsLodged\", label: \"Months Lodged\", sortable: true },\n                { key: \"transportChargesPaid.$numberDecimal\", label: \"Transport Charges Paid\", sortable: true },\n                { key: \"totalChargesReceivable.$numberDecimal\", label: \"Total Charges Receivable\" },\n                { key: \"totalChargesReceived.$numberDecimal\", label: \"Total Charges Received\" },\n                { key: \"rents.rentalMode\", label: \"Rental Mode\", sortable: true },\n                { key: \"rents.rentalYear\", label: \"Rental Year\", sortable: true },\n                { key: \"rents.totalRentReceivable.$numberDecimal\", label: \"Total Rent Receivable\" },\n                { key: \"rents.totalRentReceived.$numberDecimal\", label: \"Total Rent Received\" },\n                { key: \"vehicleNumber\" },\n                { key: \"driverName\" },\n                { key: \"deliveryNotes\" } \n            ],\n            items: [],\n            importModalTitle: \"Import Deliveries\",\n            importDataUrl: \"javascript:void(0);\",\n            trademarkOptions: []\n        };\n    },\n    created() {\n        getAllDeliveries().then(response => {\n            this.items = response;\n            this.totalRows = this.items.length\n        });\n    },\n    methods: {\n        onFiltered(filteredItems) {\n            // Trigger pagination to update the number of buttons/pages due to filtering\n            this.totalRows = filteredItems.length\n            this.currentPage = 1\n        },\n        rowClicked(item, index, event) {\n            console.log(\"row clicked : \", item);\n            let route = this.$router.resolve({path: '/inventory/lots/' + item.lotId});\n            // let route = this.$router.resolve('/link/to/page'); // This also works.\n            window.open(route.href, '_blank');\n            \n            // this.$router.push(item._id);\n        }\n    }\n}\n</script>"],"mappings":"AAsCA,OAAAA,GAAA;AACA,OAAAC,iBAAA;AACA,OAAAC,mBAAA;AACA,OAAAC,WAAA;AAEA,SAAAC,gBAAA;AAEAJ,GAAA,CAAAK,GAAA,CAAAJ,iBAAA;EACAK,OAAA;EACAC,QAAA;AACA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAP,mBAAA;IACAC;EACA;EACAO,IAAA,WAAAA,CAAA;IACA;MACAC,OAAA;MACAC,SAAA;MACAC,WAAA;MACAC,WAAA;QAAAC,KAAA;QAAAC,IAAA;MAAA;MACAC,MAAA;MACAC,QAAA;MACAC,eAAA;MACAC,MAAA;MACAC,iBAAA;MACAC,QAAA;MACAC,eAAA;MACAC,MAAA,GACA;QAAAC,GAAA;QAAAH,QAAA;MAAA,GACA;QAAAG,GAAA;QAAAH,QAAA;MAAA,GACA;QAAAG,GAAA;QAAAC,KAAA;QAAAJ,QAAA;MAAA,GACA;QAAAG,GAAA;QAAAC,KAAA;QAAAJ,QAAA;MAAA,GACA;QAAAG,GAAA;QAAAC,KAAA;QAAAJ,QAAA;MAAA,GACA;QAAAG,GAAA;QAAAC,KAAA;QAAAJ,QAAA;MAAA,GACA;QAAAG,GAAA;QAAAC,KAAA;QAAAJ,QAAA;MAAA,GACA;QAAAG,GAAA;QAAAC,KAAA;QAAAJ,QAAA;MAAA,GACA;QAAAG,GAAA;QAAAH,QAAA;MAAA,GACA;QAAAG,GAAA;QAAAH,QAAA;MAAA,GACA;QAAAG,GAAA;QAAAC,KAAA;QAAAJ,QAAA;MAAA,GACA;QAAAG,GAAA;QAAAC,KAAA;QAAAJ,QAAA;MAAA,GACA;QAAAG,GAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,GAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,GAAA;QAAAC,KAAA;QAAAJ,QAAA;MAAA,GACA;QAAAG,GAAA;QAAAC,KAAA;QAAAJ,QAAA;MAAA,GACA;QAAAG,GAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,GAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,GAAA;MAAA,GACA;QAAAA,GAAA;MAAA,GACA;QAAAA,GAAA;MAAA,EACA;MACAE,KAAA;MACAC,gBAAA;MACAC,aAAA;MACAC,gBAAA;IACA;EACA;EACAC,QAAA;IACA3B,gBAAA,GAAA4B,IAAA,CAAAC,QAAA;MACA,KAAAN,KAAA,GAAAM,QAAA;MACA,KAAArB,SAAA,QAAAe,KAAA,CAAAO,MAAA;IACA;EACA;EACAC,OAAA;IACAC,WAAAC,aAAA;MACA;MACA,KAAAzB,SAAA,GAAAyB,aAAA,CAAAH,MAAA;MACA,KAAArB,WAAA;IACA;IACAyB,WAAAC,IAAA,EAAAC,KAAA,EAAAC,KAAA;MACAC,OAAA,CAAAC,GAAA,mBAAAJ,IAAA;MACA,IAAAK,KAAA,QAAAC,OAAA,CAAAC,OAAA;QAAAC,IAAA,uBAAAR,IAAA,CAAAS;MAAA;MACA;MACAC,MAAA,CAAAC,IAAA,CAAAN,KAAA,CAAAO,IAAA;;MAEA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}