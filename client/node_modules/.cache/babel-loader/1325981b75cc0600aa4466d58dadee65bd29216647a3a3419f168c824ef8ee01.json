{"ast":null,"code":"import ProductFormSchema from './schemas/ProductFormSchema';\nimport { createProduct, updateProduct } from '@/services/ProductService';\nimport Multiselect from 'vue-multiselect';\nexport default {\n  name: 'ProductForm',\n  components: {\n    Multiselect\n  },\n  props: [\"formData\", \"submitMode\"],\n  data: function () {\n    return {\n      formSchema: ProductFormSchema,\n      formOptions: {\n        validateAfterChanged: true\n      },\n      loadedProductId: \"\",\n      isSaving: false,\n      formModel: {\n        productName: \"\",\n        productSubGroupPrefix: \"\",\n        bagSize: 0,\n        computedProductName: \"\",\n        hamaliPerBag: 0,\n        platformCooliePerBag: 0,\n        kataCooliePerBag: 0,\n        mamulluPerBag: 0,\n        insurancePerBag: 0,\n        monthlyRentPerBag: 0,\n        yearlyRentPerBag: 0,\n        yearlyRentPerKg: 0,\n        computedYearlyRentPerBag: 0\n      }\n    };\n  },\n  created() {\n    this.formModel.productName = this.formData.productName;\n    this.formModel.productSubGroupPrefix = this.formData.productSubGroupPrefix;\n    this.formModel.computedProductName = this.formData.computedProductName;\n    this.formModel.bagSize = this.formData.bagSize;\n    this.formModel.hamaliPerBag = this.formData.hamaliPerBag;\n    this.formModel.platformCooliePerBag = this.formData.platformCooliePerBag;\n    this.formModel.kataCooliePerBag = this.formData.kataCooliePerBag;\n    this.formModel.mamulluPerBag = this.formData.mamulluPerBag;\n    this.formModel.insurancePerBag = this.formData.insurancePerBag;\n    this.formModel.monthlyRentPerBag = this.formData.monthlyRentPerBag;\n    this.formModel.yearlyRentPerKg = this.formData.yearlyRentPerKg;\n    this.formModel.yearlyRentPerBag = this.formData.yearlyRentPerBag;\n    this.formModel.computedYearlyRentPerBag = this.formData.computedYearlyRentPerBag;\n    this.loadedProductId = this.formData._id;\n  },\n  methods: {\n    submitProductDetails() {\n      if (this.submitMode == \"update\") {\n        updateProduct(this.loadedProductId, this.formModel).then(response => {\n          var saveActionStatus = response;\n          this.$emit('productSaved', saveActionStatus);\n        });\n      } else if (this.submitMode == \"create\") {\n        console.log(\"Create Product : \", this.formModel);\n        let newProduct = {\n          productCode: this.formModel.productCode,\n          productFullName: this.formModel.productFullName,\n          designation: this.formModel.designation,\n          monthlySalary: this.formModel.monthlySalary,\n          creationDate: Date.now()\n        };\n        createProduct(newProduct).then(response => {\n          var createdProduct = response;\n          this.$emit('productSaved', createdProduct);\n        });\n      }\n    },\n    cancelProductForm() {\n      this.$emit('productEditCancelled');\n    }\n  }\n};","map":{"version":3,"names":["ProductFormSchema","createProduct","updateProduct","Multiselect","name","components","props","data","formSchema","formOptions","validateAfterChanged","loadedProductId","isSaving","formModel","productName","productSubGroupPrefix","bagSize","computedProductName","hamaliPerBag","platformCooliePerBag","kataCooliePerBag","mamulluPerBag","insurancePerBag","monthlyRentPerBag","yearlyRentPerBag","yearlyRentPerKg","computedYearlyRentPerBag","created","formData","_id","methods","submitProductDetails","submitMode","then","response","saveActionStatus","$emit","console","log","newProduct","productCode","productFullName","designation","monthlySalary","creationDate","Date","now","createdProduct","cancelProductForm"],"sources":["src/pages/referenceData/forms/ProductForm.vue"],"sourcesContent":["<template>\n    <div class=\"tables col-md-12 app-crud-form py-4 my-2\">\n        <form action=\"\" @submit.prevent=\"submitProductDetails\">\n            <vue-form-generator tag=\"div\" :schema=\"formSchema\" :options=\"formOptions\" :model=\"formModel\"/>\n            <div class=\"d-flex justify-content-end mt-3 pr-4\">\n                <button v-on:click=\"cancelProductForm\" type=\"button\" class=\"btn btn-secondary btn-md\">\n                        Cancel\n                </button>\n                <button type=\"submit\" class=\"btn btn-primary btn-md\">\n                    {{ isSaving ? 'Saving...' : 'Save' }}\n                </button>\n            </div>\n        </form>\n    </div>\n</template>\n\n<script scoped lang=\"js\">\n\nimport ProductFormSchema from './schemas/ProductFormSchema';\nimport { createProduct, updateProduct } from '@/services/ProductService';\nimport Multiselect from 'vue-multiselect';\n\nexport default {\n    name: 'ProductForm',\n    components: {\n        Multiselect\n    },\n    props: [\n        \"formData\",\n        \"submitMode\"\n    ],\n    data: function () {\n        return {\n            formSchema: ProductFormSchema,\n            formOptions: {\n                validateAfterChanged: true\n            },\n            loadedProductId: \"\",\n            isSaving: false,\n            formModel: {\n                productName: \"\",\n                productSubGroupPrefix: \"\",\n                bagSize: 0,\n                computedProductName: \"\",\n                hamaliPerBag: 0,\n                platformCooliePerBag: 0,\n                kataCooliePerBag: 0,\n                mamulluPerBag: 0,\n                insurancePerBag: 0,\n                monthlyRentPerBag: 0,\n                yearlyRentPerBag: 0,\n                yearlyRentPerKg: 0,\n                computedYearlyRentPerBag: 0\n            }\n        }\n    },\n    created() {\n        this.formModel.productName = this.formData.productName;\n        this.formModel.productSubGroupPrefix = this.formData.productSubGroupPrefix;\n        this.formModel.computedProductName = this.formData.computedProductName;\n        this.formModel.bagSize = this.formData.bagSize;\n        this.formModel.hamaliPerBag = this.formData.hamaliPerBag;\n        this.formModel.platformCooliePerBag = this.formData.platformCooliePerBag;\n        this.formModel.kataCooliePerBag = this.formData.kataCooliePerBag;\n        this.formModel.mamulluPerBag = this.formData.mamulluPerBag;\n        this.formModel.insurancePerBag = this.formData.insurancePerBag;\n        this.formModel.monthlyRentPerBag = this.formData.monthlyRentPerBag;\n        this.formModel.yearlyRentPerKg = this.formData.yearlyRentPerKg;\n        this.formModel.yearlyRentPerBag = this.formData.yearlyRentPerBag;\n        this.formModel.computedYearlyRentPerBag = this.formData.computedYearlyRentPerBag;\n        this.loadedProductId = this.formData._id;\n    },\n    methods: {\n        submitProductDetails() {\n            if(this.submitMode==\"update\") {\n                updateProduct(this.loadedProductId, this.formModel).then(response => {\n                    var saveActionStatus = response;\n                    this.$emit('productSaved', saveActionStatus);\n                });\n            } else if (this.submitMode == \"create\") {\n                console.log(\"Create Product : \", this.formModel);\n                let newProduct = {\n                    productCode: this.formModel.productCode,\n                    productFullName: this.formModel.productFullName,\n                    designation: this.formModel.designation,\n                    monthlySalary: this.formModel.monthlySalary,\n                    creationDate: Date.now()\n                };\n                createProduct(newProduct).then(response => {\n                    var createdProduct = response;\n                    this.$emit('productSaved', createdProduct);\n                });\n            }\n        },\n        cancelProductForm() {\n            this.$emit('productEditCancelled');\n        }\n    }\n}\n</script>\n\n<style>\n\n.vue-form-generator > div {\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: wrap;\n    flex-grow: 1;\n  }\n\n  .form-group{\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    padding: 0 2%;\n    width: 50%;\n  }\n\n  .field-wrap, .wrapper{\n    width: 100%;\n  }\n\n  .dropList{\n    z-index: 10;\n    background-color: #FFF;\n    position: relative;\n    width: 40%;\n    top: 5px;\n    right: 12px;\n  }\n\n  legend{\n    margin: 10px 0 20px 18px;\n    font-size: 16px;\n    font-weight: bold;\n    text-align: left;\n  }\n\n  .hint{\n    font-size: 10px;\n    font-style: italic;\n    color: purple;\n  }\n\n  .help-block{\n    color: red;\n  }\n\n</style>"],"mappings":"AAkBA,OAAAA,iBAAA;AACA,SAAAC,aAAA,EAAAC,aAAA;AACA,OAAAC,WAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAF;EACA;EACAG,KAAA,GACA,YACA,aACA;EACAC,IAAA,WAAAA,CAAA;IACA;MACAC,UAAA,EAAAR,iBAAA;MACAS,WAAA;QACAC,oBAAA;MACA;MACAC,eAAA;MACAC,QAAA;MACAC,SAAA;QACAC,WAAA;QACAC,qBAAA;QACAC,OAAA;QACAC,mBAAA;QACAC,YAAA;QACAC,oBAAA;QACAC,gBAAA;QACAC,aAAA;QACAC,eAAA;QACAC,iBAAA;QACAC,gBAAA;QACAC,eAAA;QACAC,wBAAA;MACA;IACA;EACA;EACAC,QAAA;IACA,KAAAd,SAAA,CAAAC,WAAA,QAAAc,QAAA,CAAAd,WAAA;IACA,KAAAD,SAAA,CAAAE,qBAAA,QAAAa,QAAA,CAAAb,qBAAA;IACA,KAAAF,SAAA,CAAAI,mBAAA,QAAAW,QAAA,CAAAX,mBAAA;IACA,KAAAJ,SAAA,CAAAG,OAAA,QAAAY,QAAA,CAAAZ,OAAA;IACA,KAAAH,SAAA,CAAAK,YAAA,QAAAU,QAAA,CAAAV,YAAA;IACA,KAAAL,SAAA,CAAAM,oBAAA,QAAAS,QAAA,CAAAT,oBAAA;IACA,KAAAN,SAAA,CAAAO,gBAAA,QAAAQ,QAAA,CAAAR,gBAAA;IACA,KAAAP,SAAA,CAAAQ,aAAA,QAAAO,QAAA,CAAAP,aAAA;IACA,KAAAR,SAAA,CAAAS,eAAA,QAAAM,QAAA,CAAAN,eAAA;IACA,KAAAT,SAAA,CAAAU,iBAAA,QAAAK,QAAA,CAAAL,iBAAA;IACA,KAAAV,SAAA,CAAAY,eAAA,QAAAG,QAAA,CAAAH,eAAA;IACA,KAAAZ,SAAA,CAAAW,gBAAA,QAAAI,QAAA,CAAAJ,gBAAA;IACA,KAAAX,SAAA,CAAAa,wBAAA,QAAAE,QAAA,CAAAF,wBAAA;IACA,KAAAf,eAAA,QAAAiB,QAAA,CAAAC,GAAA;EACA;EACAC,OAAA;IACAC,qBAAA;MACA,SAAAC,UAAA;QACA9B,aAAA,MAAAS,eAAA,OAAAE,SAAA,EAAAoB,IAAA,CAAAC,QAAA;UACA,IAAAC,gBAAA,GAAAD,QAAA;UACA,KAAAE,KAAA,iBAAAD,gBAAA;QACA;MACA,gBAAAH,UAAA;QACAK,OAAA,CAAAC,GAAA,2BAAAzB,SAAA;QACA,IAAA0B,UAAA;UACAC,WAAA,OAAA3B,SAAA,CAAA2B,WAAA;UACAC,eAAA,OAAA5B,SAAA,CAAA4B,eAAA;UACAC,WAAA,OAAA7B,SAAA,CAAA6B,WAAA;UACAC,aAAA,OAAA9B,SAAA,CAAA8B,aAAA;UACAC,YAAA,EAAAC,IAAA,CAAAC,GAAA;QACA;QACA7C,aAAA,CAAAsC,UAAA,EAAAN,IAAA,CAAAC,QAAA;UACA,IAAAa,cAAA,GAAAb,QAAA;UACA,KAAAE,KAAA,iBAAAW,cAAA;QACA;MACA;IACA;IACAC,kBAAA;MACA,KAAAZ,KAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}