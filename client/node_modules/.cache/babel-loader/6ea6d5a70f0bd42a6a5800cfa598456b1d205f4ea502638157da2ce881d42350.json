{"ast":null,"code":"export default {\n  name: 'ImportTrademarksModal',\n  data: function () {\n    return {\n      file: null,\n      footerBgVariant: \"light\"\n    };\n  },\n  methods: {\n    handleOk(bvModalEvent) {\n      // Prevent modal from closing\n      bvModalEvent.preventDefault();\n      // Trigger submit handler\n      this.handleSubmit();\n    },\n    handleSubmit() {\n      // Exit when the form isn't valid\n      // this.$v.form.$touch()\n      // if (this.$v.form.$anyError) {\n      //     console.log(\"There are errors in the form\");\n      //     return\n      // }\n\n      // Add a new trademark\n      this.importTrademarks();\n\n      // Hide the modal manually\n      this.$nextTick(() => {\n        this.$bvModal.hide('importTrademarksModal');\n      });\n    },\n    importTrademarks() {\n      let apiURL = 'http://localhost:5200/trademarks/import/';\n      console.log(\"filename : \", this.file);\n      // axios.post(apiURL, newTrademark).then((res) => {\n      //     newTrademark._id = res;\n      //     console.log(newTrademark, \"post creation\")\n\n      //     // show success notification\n      //     this.showSnotify(\"success\");\n\n      //     // reload table and update table header\n      // }).catch(error => {\n      //     // show failure notification\n      //     this.showSnotify(\"error\");\n      //     console.log(error);\n      // });\n    }\n  }\n};","map":{"version":3,"names":["name","data","file","footerBgVariant","methods","handleOk","bvModalEvent","preventDefault","handleSubmit","importTrademarks","$nextTick","$bvModal","hide","apiURL","console","log"],"sources":["src/components/forms/ImportTrademarksModal.vue"],"sourcesContent":["<template>\n    <div>\n        <b-modal centered id=\"importTrademarksModal\" :footer-bg-variant=\"footerBgVariant\" title=\"Import Trademarks\"\n            size=\"md\" @ok=\"handleOk\">\n            <section class=\"validation\">\n                <div class=\"grid-margin stretch-card col-md-12\">\n                    <div class=\"card\">\n                        <div class=\"card-body\">\n                            <p class=\"card-description\">\n                                Only csv imports allowed, with the format (trademarkName, customerName, mobileNumber, town).\n                            </p>\n                            <b-form @submit.stop.prevent=\"onSubmit\">\n                                <b-form-group label=\"Upload file\" label-for=\"trademarksFile\">\n                                    <b-form-file id=\"trademarksFile\" v-model=\"file\" :state=\"Boolean(file)\" placeholder=\"Choose a csv file...\">\n                                    </b-form-file>\n                                </b-form-group>\n                            </b-form>\n                        </div>\n                    </div>\n                </div>\n            </section>\n        </b-modal>\n    </div>\n</template>\n\n<script>\nexport default {\n    name:'ImportTrademarksModal',\n    data: function () {\n        return {\n            file: null,\n            footerBgVariant: \"light\",\n        }\n    },\n    methods: {\n        handleOk(bvModalEvent) {\n            // Prevent modal from closing\n            bvModalEvent.preventDefault()\n            // Trigger submit handler\n            this.handleSubmit()\n        },\n        handleSubmit() {\n            // Exit when the form isn't valid\n            // this.$v.form.$touch()\n            // if (this.$v.form.$anyError) {\n            //     console.log(\"There are errors in the form\");\n            //     return\n            // }\n\n            // Add a new trademark\n            this.importTrademarks();\n\n            // Hide the modal manually\n            this.$nextTick(() => {\n                this.$bvModal.hide('importTrademarksModal')\n            })\n        },\n        importTrademarks() {\n            let apiURL = 'http://localhost:5200/trademarks/import/';\n            console.log(\"filename : \", this.file);\n            // axios.post(apiURL, newTrademark).then((res) => {\n            //     newTrademark._id = res;\n            //     console.log(newTrademark, \"post creation\")\n\n            //     // show success notification\n            //     this.showSnotify(\"success\");\n\n            //     // reload table and update table header\n            // }).catch(error => {\n            //     // show failure notification\n            //     this.showSnotify(\"error\");\n            //     console.log(error);\n            // });\n        },\n    }\n}\n\n</script>"],"mappings":"AA0BA;EACAA,IAAA;EACAC,IAAA,WAAAA,CAAA;IACA;MACAC,IAAA;MACAC,eAAA;IACA;EACA;EACAC,OAAA;IACAC,SAAAC,YAAA;MACA;MACAA,YAAA,CAAAC,cAAA;MACA;MACA,KAAAC,YAAA;IACA;IACAA,aAAA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA;MACA,KAAAC,gBAAA;;MAEA;MACA,KAAAC,SAAA;QACA,KAAAC,QAAA,CAAAC,IAAA;MACA;IACA;IACAH,iBAAA;MACA,IAAAI,MAAA;MACAC,OAAA,CAAAC,GAAA,qBAAAb,IAAA;MACA;MACA;MACA;;MAEA;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}