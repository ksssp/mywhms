{"ast":null,"code":"import { getAllLots } from \"@/services/LotService\";\nimport AppDataTable from \"@/components/tables/AppDataTable.vue\";\nexport default {\n  name: \"LotsList\",\n  components: {\n    AppDataTable\n  },\n  data: function () {\n    return {\n      totalRows: 0,\n      footerBgVariant: \"light\",\n      downloadFileName: \"lotsList\",\n      fields: [{\n        data: \"lotNumber\",\n        title: \"Lot Number\"\n      }, {\n        data: \"trademark.trademark\",\n        title: \"Trademark Name\"\n      }, {\n        data: \"trademark.customerName\",\n        title: \"Customer Name\"\n      }, {\n        data: \"product.productName\",\n        title: \"Product Name\"\n      }, {\n        data: \"numBagsLodged\",\n        title: \"Lodged Bags\",\n        class: \"text-center\"\n      }, {\n        data: \"locationCodes\",\n        title: \"Locations\"\n      }, {\n        data: \"lodgementDate\",\n        title: \"Lodgement Date\",\n        render: function (lodgementDate) {\n          return new Date(lodgementDate).toLocaleDateString();\n        }\n      }, {\n        data: \"numBagsLodged\",\n        title: \"Delivered Bags\",\n        class: \"text-center\",\n        render: function (numBagsLodged, numBagsBalance) {\n          return numBagsLodged - numBagsBalance;\n        }\n      }, {\n        data: \"numBagsBalance\",\n        title: \"Balance Bags\",\n        class: \"text-center\"\n      }, {\n        data: \"charges.totalLodgementChargesReceivable.$numberDecimal\",\n        title: \"Total Charges Receivable\",\n        class: \"text-right\"\n      }, {\n        data: \"charges.totalLodgementChargesReceived.$numberDecimal\",\n        title: \"Total Charges Received\",\n        class: \"text-right\"\n      }, {\n        data: \"rents.totalRentReceivable.$numberDecimal\",\n        title: \"Total Rent Receivable\",\n        class: \"text-right\"\n      }, {\n        data: \"rents.totalRentReceived.$numberDecimal\",\n        title: \"Total Rent Received\",\n        class: \"text-right\",\n        visible: false\n      }, {\n        data: \"deliveries.length\",\n        title: \"Num Deliveries\",\n        class: \"text-center\"\n      }],\n      fieldDefs: [],\n      items: null\n    };\n  },\n  async created() {\n    getAllLots().then(response => {\n      this.items = response;\n      this.totalRows = this.items.length;\n    }).catch(error => {\n      console.log(error);\n    });\n  },\n  methods: {\n    rowClicked(item, index, event) {\n      console.log(\"row clicked : \", item);\n      // this.$router.push(item._id);\n    }\n  }\n};","map":{"version":3,"names":["getAllLots","AppDataTable","name","components","data","totalRows","footerBgVariant","downloadFileName","fields","title","class","render","lodgementDate","Date","toLocaleDateString","numBagsLodged","numBagsBalance","visible","fieldDefs","items","created","then","response","length","catch","error","console","log","methods","rowClicked","item","index","event"],"sources":["src/pages/inventory/LotsList.vue"],"sourcesContent":["<template>\n    <div class=\"tables\">\n        <div class=\"page-header\">\n            <h3 class=\"page-title\">\n                Lots\n            </h3>\n            <nav aria-label=\"breadcrumb\">\n                <ol class=\"breadcrumb\">\n                    <li class=\"breadcrumb-item\"><a href=\"javascript:void(0);\">Inventory</a></li>\n                    <li class=\"breadcrumb-item active\" aria-current=\"page\">Lots</li>\n                </ol>\n            </nav>\n        </div>\n        <div class=\"row col-lg-12 grid-margin stretch-card\">\n            <div class=\"card\">\n                <div class=\"card-body\">\n                    <div class=\"row\">\n                        <h4 class=\"card-title\">Lots ( {{ totalRows }} )</h4>\n                    </div>\n\n                    <br />\n                    <AppDataTable v-if=\"items\" :download-file-name=\"downloadFileName\" :fields=\"fields\" :fieldDefs=\"fieldDefs\" :table-data=\"items\"></AppDataTable>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n\n<script lang=\"js\">\nimport { getAllLots } from \"@/services/LotService\";\n\nimport AppDataTable from \"@/components/tables/AppDataTable.vue\";\n\nexport default {\n    name: \"LotsList\",\n    components: {\n        AppDataTable\n    },\n    data: function () {\n        return {\n            totalRows: 0,\n            footerBgVariant: \"light\",\n            downloadFileName: \"lotsList\",\n            fields: [\n\n                { data: \"lotNumber\", title: \"Lot Number\" },\n                { data: \"trademark.trademark\", title: \"Trademark Name\"},\n                { data: \"trademark.customerName\", title: \"Customer Name\" },\n                { data: \"product.productName\", title: \"Product Name\" },\n                { data: \"numBagsLodged\", title: \"Lodged Bags\", class: \"text-center\" },\n                { data: \"locationCodes\", title: \"Locations\" },\n                { data: \"lodgementDate\", title: \"Lodgement Date\", render : function(lodgementDate) { return (new Date(lodgementDate)).toLocaleDateString();} },\n                { data: \"numBagsLodged\", title: \"Delivered Bags\", class: \"text-center\", render: function(numBagsLodged, numBagsBalance) { return (numBagsLodged-numBagsBalance); } },\n                { data: \"numBagsBalance\", title: \"Balance Bags\", class: \"text-center\" },\n                { data: \"charges.totalLodgementChargesReceivable.$numberDecimal\", title: \"Total Charges Receivable\", class: \"text-right\" },\n                { data: \"charges.totalLodgementChargesReceived.$numberDecimal\", title: \"Total Charges Received\", class: \"text-right\" },\n                { data: \"rents.totalRentReceivable.$numberDecimal\", title: \"Total Rent Receivable\", class: \"text-right\" },\n                { data: \"rents.totalRentReceived.$numberDecimal\", title: \"Total Rent Received\", class: \"text-right\", visible: false  },\n                { data: \"deliveries.length\", title: \"Num Deliveries\", class: \"text-center\" }\n            ],\n            fieldDefs: [],\n            items: null\n        };\n    },\n    async created() {\n        getAllLots().then(response => {\n            this.items = response;\n            this.totalRows = this.items.length;\n        }).catch(error => {\n            console.log(error);\n        });\n    },\n    methods: {\n        rowClicked(item, index, event) {\n            console.log(\"row clicked : \", item);\n            // this.$router.push(item._id);\n        }\n    }\n}\n</script>"],"mappings":"AA8BA,SAAAA,UAAA;AAEA,OAAAC,YAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAF;EACA;EACAG,IAAA,WAAAA,CAAA;IACA;MACAC,SAAA;MACAC,eAAA;MACAC,gBAAA;MACAC,MAAA,GAEA;QAAAJ,IAAA;QAAAK,KAAA;MAAA,GACA;QAAAL,IAAA;QAAAK,KAAA;MAAA,GACA;QAAAL,IAAA;QAAAK,KAAA;MAAA,GACA;QAAAL,IAAA;QAAAK,KAAA;MAAA,GACA;QAAAL,IAAA;QAAAK,KAAA;QAAAC,KAAA;MAAA,GACA;QAAAN,IAAA;QAAAK,KAAA;MAAA,GACA;QAAAL,IAAA;QAAAK,KAAA;QAAAE,MAAA,WAAAA,CAAAC,aAAA;UAAA,WAAAC,IAAA,CAAAD,aAAA,EAAAE,kBAAA;QAAA;MAAA,GACA;QAAAV,IAAA;QAAAK,KAAA;QAAAC,KAAA;QAAAC,MAAA,WAAAA,CAAAI,aAAA,EAAAC,cAAA;UAAA,OAAAD,aAAA,GAAAC,cAAA;QAAA;MAAA,GACA;QAAAZ,IAAA;QAAAK,KAAA;QAAAC,KAAA;MAAA,GACA;QAAAN,IAAA;QAAAK,KAAA;QAAAC,KAAA;MAAA,GACA;QAAAN,IAAA;QAAAK,KAAA;QAAAC,KAAA;MAAA,GACA;QAAAN,IAAA;QAAAK,KAAA;QAAAC,KAAA;MAAA,GACA;QAAAN,IAAA;QAAAK,KAAA;QAAAC,KAAA;QAAAO,OAAA;MAAA,GACA;QAAAb,IAAA;QAAAK,KAAA;QAAAC,KAAA;MAAA,EACA;MACAQ,SAAA;MACAC,KAAA;IACA;EACA;EACA,MAAAC,QAAA;IACApB,UAAA,GAAAqB,IAAA,CAAAC,QAAA;MACA,KAAAH,KAAA,GAAAG,QAAA;MACA,KAAAjB,SAAA,QAAAc,KAAA,CAAAI,MAAA;IACA,GAAAC,KAAA,CAAAC,KAAA;MACAC,OAAA,CAAAC,GAAA,CAAAF,KAAA;IACA;EACA;EACAG,OAAA;IACAC,WAAAC,IAAA,EAAAC,KAAA,EAAAC,KAAA;MACAN,OAAA,CAAAC,GAAA,mBAAAG,IAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}