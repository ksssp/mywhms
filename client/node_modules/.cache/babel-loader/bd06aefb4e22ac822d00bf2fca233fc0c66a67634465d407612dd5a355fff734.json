{"ast":null,"code":"export default {\n  name: 'ImportModal',\n  props: [\"modalTitle\", \"importDataUrl\"],\n  data: function () {\n    return {\n      importModalTitle: \"Import\",\n      file: null,\n      footerBgVariant: \"light\"\n    };\n  },\n  created() {\n    this.importModalTitle = this.modalTitle;\n  },\n  methods: {\n    handleOk(bvModalEvent) {\n      // Prevent modal from closing\n      bvModalEvent.preventDefault();\n\n      // Trigger submit handler\n      this.handleSubmit();\n    },\n    handleSubmit() {\n      // Import multiple entries imported from file\n      this.importFromFile();\n\n      // Hide the modal manually\n      this.$nextTick(() => {\n        this.$bvModal.hide('importModal');\n      });\n    },\n    importFromFile() {\n      console.log(\"filename : \", this.file);\n      // axios.post(this.importDataUrl, fileContentInJson).then((res) => {\n      //     // show success notification\n      //     this.showSnotify(\"success\");\n\n      //     // reload table and update table header\n      // }).catch(error => {\n      //     // show failure notification\n      //     this.showSnotify(\"error\");\n      //     console.log(error);\n      // });\n    }\n  }\n};","map":{"version":3,"names":["name","props","data","importModalTitle","file","footerBgVariant","created","modalTitle","methods","handleOk","bvModalEvent","preventDefault","handleSubmit","importFromFile","$nextTick","$bvModal","hide","console","log"],"sources":["src/components/forms/ImportModal.vue"],"sourcesContent":["<template>\n    <div>\n        <b-modal centered id=\"importModal\" :footer-bg-variant=\"footerBgVariant\"\n            size=\"md\" @ok=\"handleOk\">\n            <template #modal-title>{{ importModalTitle }}</template>\n            <section class=\"validation\">\n                <div class=\"grid-margin stretch-card col-md-12\">\n                    <div class=\"card\">\n                        <div class=\"card-body\">\n                            <p class=\"card-description\">\n                                Only csv imports allowed, with the standard format.\n                            </p>\n                            <b-form @submit.stop.prevent=\"onSubmit\">\n                                <b-form-group label=\"Upload file\" label-for=\"importFile\">\n                                    <b-form-file id=\"importFile\" v-model=\"file\" :state=\"Boolean(file)\" placeholder=\"Choose a csv file...\">\n                                    </b-form-file>\n                                </b-form-group>\n                            </b-form>\n                        </div>\n                    </div>\n                </div>\n            </section>\n        </b-modal>\n    </div>\n</template>\n\n<script>\nexport default {\n    name:'ImportModal',\n    props: [\n        \"modalTitle\",\n        \"importDataUrl\"\n    ],\n    data: function () {\n        return {\n            importModalTitle: \"Import\",\n            file: null,\n            footerBgVariant: \"light\",\n        }\n    },\n    created() {\n        this.importModalTitle = this.modalTitle;\n    },\n    methods: {\n        handleOk(bvModalEvent) {\n            // Prevent modal from closing\n            bvModalEvent.preventDefault();\n\n            // Trigger submit handler\n            this.handleSubmit();\n        },\n        handleSubmit() {\n            // Import multiple entries imported from file\n            this.importFromFile();\n\n            // Hide the modal manually\n            this.$nextTick(() => {\n                this.$bvModal.hide('importModal')\n            });\n        },\n        importFromFile() {\n            console.log(\"filename : \", this.file);\n            // axios.post(this.importDataUrl, fileContentInJson).then((res) => {\n            //     // show success notification\n            //     this.showSnotify(\"success\");\n\n            //     // reload table and update table header\n            // }).catch(error => {\n            //     // show failure notification\n            //     this.showSnotify(\"error\");\n            //     console.log(error);\n            // });\n        }\n    }\n}\n\n</script>"],"mappings":"AA2BA;EACAA,IAAA;EACAC,KAAA,GACA,cACA,gBACA;EACAC,IAAA,WAAAA,CAAA;IACA;MACAC,gBAAA;MACAC,IAAA;MACAC,eAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAH,gBAAA,QAAAI,UAAA;EACA;EACAC,OAAA;IACAC,SAAAC,YAAA;MACA;MACAA,YAAA,CAAAC,cAAA;;MAEA;MACA,KAAAC,YAAA;IACA;IACAA,aAAA;MACA;MACA,KAAAC,cAAA;;MAEA;MACA,KAAAC,SAAA;QACA,KAAAC,QAAA,CAAAC,IAAA;MACA;IACA;IACAH,eAAA;MACAI,OAAA,CAAAC,GAAA,qBAAAd,IAAA;MACA;MACA;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}