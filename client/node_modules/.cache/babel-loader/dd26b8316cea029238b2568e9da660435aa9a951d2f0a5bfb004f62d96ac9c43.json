{"ast":null,"code":"import Vue from \"vue\";\nimport SortedTablePlugin from \"vue-sorted-table\";\nimport axios from \"axios\";\nimport { getDeliveriesByFilter } from \"@/services/DeliveryService\";\nimport { getLotDetails } from \"@/services/LotService\";\nVue.use(SortedTablePlugin, {\n  ascIcon: '<i class=\"mdi mdi-arrow-down\"></i>',\n  descIcon: '<i class=\"mdi mdi-arrow-up\"></i>'\n});\nexport default {\n  name: \"LotDetails\",\n  data: function () {\n    return {\n      loadedLot: {\n        lodgementDate: null,\n        lotNumber: null,\n        numBagsLodged: null,\n        numBagsBalance: null,\n        locationCodes: null,\n        lastTransactionDate: null,\n        trademark: {\n          trademarkId: null,\n          trademark: null,\n          customerName: null\n        },\n        product: {\n          productId: null,\n          productName: null\n        },\n        charges: {\n          hamaliCharges: null,\n          platformCoolieCharges: null,\n          kataCoolieCharges: null,\n          mamulluCharges: null,\n          insuranceCharges: null,\n          totalLodgementChargesReceivable: null,\n          totalLodgementChargesReceived: null,\n          totalDeliveryChargesReceivable: null,\n          totalDeliveryChargesReceived: null\n        },\n        vehicleNumber: null,\n        driverName: null,\n        transportChargesPaid: null,\n        rents: {\n          rentalYear: null,\n          rentalMode: null,\n          totalRentReceivable: null,\n          totalRentReceived: null\n        },\n        deliveries: []\n      },\n      perPage: 10,\n      totalRows: 1,\n      currentPage: 1,\n      pageOptions: [{\n        value: 0,\n        text: \"Per page\"\n      }, 5, 10, 25, 50],\n      sortBy: \"deliveryDate\",\n      sortDesc: true,\n      sortByFormatted: true,\n      filter: null,\n      filterByFormatted: true,\n      sortable: true,\n      footerBgVariant: \"light\",\n      delieveryTableFields: [{\n        key: \"deliveryDate\",\n        sortable: true\n      }, {\n        key: \"numBagsDelivered\",\n        label: \"Delivered Bags\",\n        sortable: true\n      }, {\n        key: \"numBagsLodged\",\n        label: \"Lodged Bags\",\n        sortable: true\n      }, {\n        key: \"numBagsBalance\",\n        label: \"Balance bags\",\n        sortable: true\n      }, {\n        key: \"locationCodes\",\n        sortable: true\n      }, {\n        key: \"lodgementDate\",\n        sortable: true\n      }, {\n        key: \"numMonthsLodged\",\n        label: \"#Months Lodged\",\n        sortable: true\n      }, {\n        key: \"transportChargesPaid.$numberDecimal\",\n        label: \"Transport Charges Paid\",\n        sortable: true\n      }, {\n        key: \"deliveryChargesReceivable.$numberDecimal\",\n        label: \"Delivery Charges Receivable\",\n        sortable: true\n      }, {\n        key: \"deliveryChargesReceived.$numberDecimal\",\n        label: \"Delivery Charges Received\",\n        sortable: true\n      }, {\n        key: \"rents.totalRentReceivable.$numberDecimal\",\n        label: \"Total Rent Receivable\",\n        sortable: true\n      }, {\n        key: \"rents.totalRentReceived.$numberDecimal\",\n        label: \"Total Rent Received\",\n        sortable: true\n      }, {\n        key: \"vehicleNumber\"\n      }, {\n        key: \"deliveryNotes\"\n      }],\n      loadedLotDeliveries: []\n    };\n  },\n  mounted() {\n    let loadedlotId = this.$route.params._id;\n    getLotDetails(loadedlotId).then(response => {\n      this.loadedLot = JSON.parse(JSON.stringify(response));\n      let deliveriesFilter = {\n        \"lotId\": this.loadedLot.lotId\n      };\n      getDeliveriesByFilter(deliveriesFilter).then(response => {\n        this.loadedLotDeliveries = response;\n        this.totalRows = this.loadedLotDeliveries.length;\n        console.log(this.loadedLotDeliveries);\n      });\n    });\n  },\n  computed: {\n    lotDetails() {\n      return this.loadedLot;\n    }\n  },\n  methods: {\n    edit(item, index, button) {\n      // this.infoModal.title = `Row index: ${index}`\n      // this.infoModal.content = JSON.stringify(item, null, 2)\n      // this.$root.$emit('bv::show::modal', this.infoModal.id, button)\n    },\n    delete(item, index, button) {\n      // this.infoModal.title = `Row index: ${index}`\n      // this.infoModal.content = JSON.stringify(item, null, 2)\n      // this.$root.$emit('bv::show::modal', this.infoModal.id, button)\n    },\n    onFiltered(filteredItems) {\n      // Trigger pagination to update the number of buttons/pages due to filtering\n      this.totalRows = filteredItems.length;\n      this.currentPage = 1;\n    }\n  }\n};","map":{"version":3,"names":["Vue","SortedTablePlugin","axios","getDeliveriesByFilter","getLotDetails","use","ascIcon","descIcon","name","data","loadedLot","lodgementDate","lotNumber","numBagsLodged","numBagsBalance","locationCodes","lastTransactionDate","trademark","trademarkId","customerName","product","productId","productName","charges","hamaliCharges","platformCoolieCharges","kataCoolieCharges","mamulluCharges","insuranceCharges","totalLodgementChargesReceivable","totalLodgementChargesReceived","totalDeliveryChargesReceivable","totalDeliveryChargesReceived","vehicleNumber","driverName","transportChargesPaid","rents","rentalYear","rentalMode","totalRentReceivable","totalRentReceived","deliveries","perPage","totalRows","currentPage","pageOptions","value","text","sortBy","sortDesc","sortByFormatted","filter","filterByFormatted","sortable","footerBgVariant","delieveryTableFields","key","label","loadedLotDeliveries","mounted","loadedlotId","$route","params","_id","then","response","JSON","parse","stringify","deliveriesFilter","lotId","length","console","log","computed","lotDetails","methods","edit","item","index","button","delete","onFiltered","filteredItems"],"sources":["src/pages/inventory/LotDetails.vue"],"sourcesContent":["<template>\n    <div class=\"tables\">\n        <div class=\"page-header\">\n            <h3 class=\"page-title\">\n                Lots\n            </h3>\n            <nav aria-label=\"breadcrumb\">\n                <ol class=\"breadcrumb\">\n                    <li class=\"breadcrumb-item\"><a href=\"javascript:void(0);\">Inventory</a></li>\n                    <li class=\"breadcrumb-item active\" aria-current=\"page\">Lots</li>\n                    <li class=\"breadcrumb-item active\" aria-current=\"page\">Lot Details</li>\n                </ol>\n            </nav>\n        </div>\n        <div class=\"row grid-margin stretch-card\">\n            <div class=\"card\">\n                <div class=\"card-body\">\n                    <div class=\"row template-demo\">\n                        <div class=\"col-md-6\">\n                            <h4 class=\"card-title\">Lot No: {{ loadedLot.lotNumber }}</h4>\n                        </div>\n                        <div class=\"col-md-6\" align=\"right\">\n                            <button type=\"button\" class=\"btn btn-gradient-success btn-icon-text\">\n                                <i class=\"mdi mdi-upload btn-icon-prepend\"></i>\n                                Share\n                            </button>\n                            <button type=\"button\" class=\"btn btn-gradient-success btn-icon-text\">\n                                <i class=\"mdi mdi-download btn-icon-prepend\"></i>\n                                Download\n                            </button>\n                        </div>\n                    </div>\n                    <br />\n\n                    <div class=\"row template-demo\">\n                        <div class=\"col-md-12\">\n                            <b-tabs class=\"tab-solid tab-solid-primary\">\n                                <b-tab active>\n                                    <template slot=\"title\">\n                                        <i class='mdi mdi-home-outline'></i> Basic Details\n                                    </template>\n                                    <div role=\"tablist\" class=\"accordion accordion-bordered\">\n                                        <b-card no-body>\n                                            <b-card-header header-tag=\"header\" role=\"tab\">\n                                                <h3 class=\"font-weight-bold\"><a href=\"javascript:void(0);\"\n                                                        v-b-toggle.accordion4>Trademark Details</a></h3>\n                                            </b-card-header>\n                                            <b-collapse id=\"accordion4\" accordion=\"my-accordion\" role=\"tabpanel\">\n                                                <b-card-body>\n                                                    <b-row>\n                                                        <b-col cols=\"3\">Trademark name</b-col>\n                                                        <b-col cols=\"9\">{{ loadedLot.trademark.trademark }}</b-col>\n                                                    </b-row>\n                                                    <b-row>\n                                                        <b-col cols=\"3\">Customer name</b-col>\n                                                        <b-col cols=\"9\">{{ loadedLot.trademark.customerName }}</b-col>\n                                                    </b-row>\n                                                </b-card-body>\n                                            </b-collapse>\n                                        </b-card>\n                                        <b-card no-body>\n                                            <b-card-header header-tag=\"header\" role=\"tab\">\n                                                <h3 class=\"font-weight-bold\"><a href=\"javascript:void(0);\"\n                                                        v-b-toggle.accordion4>Product Details</a></h3>\n                                            </b-card-header>\n                                            <b-collapse id=\"accordion4\" accordion=\"my-accordion\" role=\"tabpanel\">\n                                                <b-card-body>\n                                                    <div class=\"row\">\n                                                        <div class=\"col-md-3\">Product name</div>\n                                                        <div class=\"col-md-9\">{{ loadedLot.productName }}</div>\n                                                    </div>\n                                                    <div class=\"row\">\n                                                        <div class=\"col-md-3\">Number of bags lodged</div>\n                                                        <div class=\"col-md-9\">{{ loadedLot.numBagsLodged }}</div>\n                                                    </div>\n                                                    <div class=\"row\">\n                                                        <div class=\"col-md-3\">Lodgement date</div>\n                                                        <div class=\"col-md-9\">{{ loadedLot.numBagsDelivered }}</div>\n                                                    </div>\n                                                    <div class=\"row\">\n                                                        <div class=\"col-md-3\">Number of bags delivered till date</div>\n                                                        <div class=\"col-md-9\">{{ loadedLot.numBagsDelivered }}</div>\n                                                    </div>\n                                                    <div class=\"row\">\n                                                        <div class=\"col-md-3\">Number of balance bags in store</div>\n                                                        <div class=\"col-md-9\">{{ loadedLot.numBagsDelivered }}</div>\n                                                    </div>\n                                                    <div class=\"row\">\n                                                        <div class=\"col-md-3\">Most recent delivery date</div>\n                                                        <div class=\"col-md-9\">{{ loadedLot.lastTransactionDate }}</div>\n                                                    </div>\n                                                </b-card-body>\n                                            </b-collapse>\n                                        </b-card>\n                                        <b-card no-body>\n                                            <b-card-header header-tag=\"header\" role=\"tab\">\n                                                <h3 class=\"font-weight-bold\"><a href=\"javascript:void(0);\"\n                                                        v-b-toggle.accordion4>Transport Details</a></h3>\n                                            </b-card-header>\n                                            <b-collapse id=\"accordion4\" accordion=\"my-accordion\" role=\"tabpanel\">\n                                                <b-card-body>\n                                                    <b-row>\n                                                        <b-col cols=\"3\">Vehicle number</b-col>\n                                                        <b-col cols=\"9\">{{ loadedLot.vehicleNumber }}</b-col>\n                                                    </b-row>\n                                                    <b-row>\n                                                        <b-col cols=\"3\">Driver name</b-col>\n                                                        <b-col cols=\"9\">{{ loadedLot.driverName }}</b-col>\n                                                    </b-row>\n                                                    <b-row>\n                                                        <b-col cols=\"3\">Trasnport charges paid</b-col>\n                                                        <b-col cols=\"9\">{{ loadedLot.transportChargesPaid.$numberDecimal }}</b-col>\n                                                    </b-row>\n                                                </b-card-body>\n                                            </b-collapse>\n                                        </b-card>\n                                    </div>\n                                </b-tab>\n                                <b-tab>\n                                    <template slot=\"title\">\n                                        <i class='mdi mdi-account'></i> Rents & Charges\n                                    </template>\n                                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem vel eveniet\n                                    qui, fuga saepe inventore aspernatur, voluptate libero soluta quidem ,fuga saepe\n                                    inventore\n                                    aspernatur, ad accusantium cumque voluptas, perferendis natus laudantium.\n                                </b-tab>\n                                <b-tab>\n                                    <template slot=\"title\">\n                                        <i class='mdi mdi-anchor'></i> Deliveries ( {{ totalRows }} )\n                                    </template>\n                                    <div class=\"row\">\n                                        <div class=\"col-md-2\" align=\"left\">\n                                            <label label-for=\"filter-input\">Search</label>\n                                        </div>\n                                        <div class=\"col-md-4\">\n                                            <b-form-group label-for=\"filter-input\" aria-controls=\"table-list\"> \n                                                <b-form-input id=\"filter-input\" v-model=\"filter\" type=\"search\"\n                                                    placeholder=\"Type to Search\"></b-form-input>\n                                            </b-form-group>\n                                        </div>\n                                        <div class=\"col-md-2\">\n                                            <b-form-group label=\"Per page\" label-for=\"per-page-select\"\n                                                aria-controls=\"table-list\">\n                                                <b-form-select id=\"per-page-select\" v-model=\"perPage\"\n                                                    :options=\"pageOptions\">\n                                                </b-form-select>\n                                            </b-form-group>\n                                        </div>\n                                        <div class=\"col-md-4\" align=\"right\">\n                                            <b-pagination v-model=\"currentPage\" :total-rows=\"totalRows\" :per-page=\"perPage\"\n                                                aria-controls=\"table-list\" align=\"right\">\n                                            </b-pagination>\n                                        </div>\n                                    </div>\n                                    <div class=\"row\">\n                                        <div class=\"col-md-12\">\n                                            <b-table hover responsive show-empty :items=\"loadedLotDeliveries\"\n                                                id=\"table-list\" :per-page=\"perPage\" :current-page=\"currentPage\"\n                                                :fields=\"delieveryTableFields\" :sort-by.sync=\"sortBy\"\n                                                :sort-desc.sync=\"sortDesc\" :filter=\"filter\" @filtered=\"onFiltered\">\n                                            </b-table>\n                                        </div>\n                                    </div>\n                                </b-tab>\n                            </b-tabs>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport SortedTablePlugin from \"vue-sorted-table\";\nimport axios from \"axios\";\n\nimport { getDeliveriesByFilter } from \"@/services/DeliveryService\";\nimport { getLotDetails } from \"@/services/LotService\";\n\nVue.use(SortedTablePlugin, {\n    ascIcon: '<i class=\"mdi mdi-arrow-down\"></i>',\n    descIcon: '<i class=\"mdi mdi-arrow-up\"></i>'\n});\n\nexport default {\n    name: \"LotDetails\",\n    data: function () {\n        return {\n            loadedLot: {\n                lodgementDate: null,\n                lotNumber: null,\n                numBagsLodged: null,\n                numBagsBalance: null,\n                locationCodes: null,\n                lastTransactionDate: null,\n                trademark: {\n                    trademarkId: null,\n                    trademark: null,\n                    customerName: null\n                },\n                product: {\n                    productId: null,\n                    productName: null\n                },\n                charges: {\n                    hamaliCharges: null,\n                    platformCoolieCharges: null,\n                    kataCoolieCharges: null,\n                    mamulluCharges: null,\n                    insuranceCharges: null,\n                    totalLodgementChargesReceivable: null,\n                    totalLodgementChargesReceived: null,\n                    totalDeliveryChargesReceivable: null,\n                    totalDeliveryChargesReceived: null\n                },\n                vehicleNumber: null,\n                driverName: null,\n                transportChargesPaid: null,\n                rents: {\n                    rentalYear: null,\n                    rentalMode: null,\n                    totalRentReceivable: null,\n                    totalRentReceived: null\n                },\n                deliveries: []\n            },\n            perPage: 10,\n            totalRows: 1,\n            currentPage: 1,\n            pageOptions: [{ value: 0, text: \"Per page\" }, 5, 10, 25, 50],\n            sortBy: \"deliveryDate\",\n            sortDesc: true,\n            sortByFormatted: true,\n            filter: null,\n            filterByFormatted: true,\n            sortable: true,\n            footerBgVariant: \"light\",\n            delieveryTableFields: [\n                { key: \"deliveryDate\", sortable: true },\n                { key: \"numBagsDelivered\", label: \"Delivered Bags\", sortable: true },\n                { key: \"numBagsLodged\", label: \"Lodged Bags\", sortable: true },\n                { key: \"numBagsBalance\", label: \"Balance bags\", sortable: true },\n                { key: \"locationCodes\", sortable: true },\n                { key: \"lodgementDate\", sortable: true },\n                { key: \"numMonthsLodged\", label: \"#Months Lodged\", sortable: true },\n                { key: \"transportChargesPaid.$numberDecimal\", label: \"Transport Charges Paid\", sortable: true },\n                { key: \"deliveryChargesReceivable.$numberDecimal\", label: \"Delivery Charges Receivable\", sortable: true },\n                { key: \"deliveryChargesReceived.$numberDecimal\", label: \"Delivery Charges Received\", sortable: true },\n                { key: \"rents.totalRentReceivable.$numberDecimal\", label: \"Total Rent Receivable\", sortable: true },\n                { key: \"rents.totalRentReceived.$numberDecimal\", label: \"Total Rent Received\", sortable: true },\n                { key: \"vehicleNumber\" },\n                { key: \"deliveryNotes\" }\n\n            ],\n            loadedLotDeliveries: []\n        };\n    },\n    mounted() {\n        let loadedlotId = this.$route.params._id;\n        getLotDetails(loadedlotId).then(response => {\n            this.loadedLot = JSON.parse(JSON.stringify(response));\n            let deliveriesFilter = {\n                \"lotId\": this.loadedLot.lotId\n            };\n            getDeliveriesByFilter(deliveriesFilter).then(response => {\n                this.loadedLotDeliveries = response;\n                this.totalRows = this.loadedLotDeliveries.length\n                console.log(this.loadedLotDeliveries);\n            });\n        });\n    },\n    computed: {\n        lotDetails() {\n            return this.loadedLot;\n        }\n    },\n    methods: {\n        edit(item, index, button) {\n            // this.infoModal.title = `Row index: ${index}`\n            // this.infoModal.content = JSON.stringify(item, null, 2)\n            // this.$root.$emit('bv::show::modal', this.infoModal.id, button)\n        },\n        delete(item, index, button) {\n            // this.infoModal.title = `Row index: ${index}`\n            // this.infoModal.content = JSON.stringify(item, null, 2)\n            // this.$root.$emit('bv::show::modal', this.infoModal.id, button)\n        },\n        onFiltered(filteredItems) {\n            // Trigger pagination to update the number of buttons/pages due to filtering\n            this.totalRows = filteredItems.length\n            this.currentPage = 1\n        }\n    }\n}\n</script>"],"mappings":"AA+KA,OAAAA,GAAA;AACA,OAAAC,iBAAA;AACA,OAAAC,KAAA;AAEA,SAAAC,qBAAA;AACA,SAAAC,aAAA;AAEAJ,GAAA,CAAAK,GAAA,CAAAJ,iBAAA;EACAK,OAAA;EACAC,QAAA;AACA;AAEA;EACAC,IAAA;EACAC,IAAA,WAAAA,CAAA;IACA;MACAC,SAAA;QACAC,aAAA;QACAC,SAAA;QACAC,aAAA;QACAC,cAAA;QACAC,aAAA;QACAC,mBAAA;QACAC,SAAA;UACAC,WAAA;UACAD,SAAA;UACAE,YAAA;QACA;QACAC,OAAA;UACAC,SAAA;UACAC,WAAA;QACA;QACAC,OAAA;UACAC,aAAA;UACAC,qBAAA;UACAC,iBAAA;UACAC,cAAA;UACAC,gBAAA;UACAC,+BAAA;UACAC,6BAAA;UACAC,8BAAA;UACAC,4BAAA;QACA;QACAC,aAAA;QACAC,UAAA;QACAC,oBAAA;QACAC,KAAA;UACAC,UAAA;UACAC,UAAA;UACAC,mBAAA;UACAC,iBAAA;QACA;QACAC,UAAA;MACA;MACAC,OAAA;MACAC,SAAA;MACAC,WAAA;MACAC,WAAA;QAAAC,KAAA;QAAAC,IAAA;MAAA;MACAC,MAAA;MACAC,QAAA;MACAC,eAAA;MACAC,MAAA;MACAC,iBAAA;MACAC,QAAA;MACAC,eAAA;MACAC,oBAAA,GACA;QAAAC,GAAA;QAAAH,QAAA;MAAA,GACA;QAAAG,GAAA;QAAAC,KAAA;QAAAJ,QAAA;MAAA,GACA;QAAAG,GAAA;QAAAC,KAAA;QAAAJ,QAAA;MAAA,GACA;QAAAG,GAAA;QAAAC,KAAA;QAAAJ,QAAA;MAAA,GACA;QAAAG,GAAA;QAAAH,QAAA;MAAA,GACA;QAAAG,GAAA;QAAAH,QAAA;MAAA,GACA;QAAAG,GAAA;QAAAC,KAAA;QAAAJ,QAAA;MAAA,GACA;QAAAG,GAAA;QAAAC,KAAA;QAAAJ,QAAA;MAAA,GACA;QAAAG,GAAA;QAAAC,KAAA;QAAAJ,QAAA;MAAA,GACA;QAAAG,GAAA;QAAAC,KAAA;QAAAJ,QAAA;MAAA,GACA;QAAAG,GAAA;QAAAC,KAAA;QAAAJ,QAAA;MAAA,GACA;QAAAG,GAAA;QAAAC,KAAA;QAAAJ,QAAA;MAAA,GACA;QAAAG,GAAA;MAAA,GACA;QAAAA,GAAA;MAAA,EAEA;MACAE,mBAAA;IACA;EACA;EACAC,QAAA;IACA,IAAAC,WAAA,QAAAC,MAAA,CAAAC,MAAA,CAAAC,GAAA;IACA3D,aAAA,CAAAwD,WAAA,EAAAI,IAAA,CAAAC,QAAA;MACA,KAAAvD,SAAA,GAAAwD,IAAA,CAAAC,KAAA,CAAAD,IAAA,CAAAE,SAAA,CAAAH,QAAA;MACA,IAAAI,gBAAA;QACA,cAAA3D,SAAA,CAAA4D;MACA;MACAnE,qBAAA,CAAAkE,gBAAA,EAAAL,IAAA,CAAAC,QAAA;QACA,KAAAP,mBAAA,GAAAO,QAAA;QACA,KAAAtB,SAAA,QAAAe,mBAAA,CAAAa,MAAA;QACAC,OAAA,CAAAC,GAAA,MAAAf,mBAAA;MACA;IACA;EACA;EACAgB,QAAA;IACAC,WAAA;MACA,YAAAjE,SAAA;IACA;EACA;EACAkE,OAAA;IACAC,KAAAC,IAAA,EAAAC,KAAA,EAAAC,MAAA;MACA;MACA;MACA;IAAA,CACA;IACAC,OAAAH,IAAA,EAAAC,KAAA,EAAAC,MAAA;MACA;MACA;MACA;IAAA,CACA;IACAE,WAAAC,aAAA;MACA;MACA,KAAAxC,SAAA,GAAAwC,aAAA,CAAAZ,MAAA;MACA,KAAA3B,WAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}