{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport EmployeeFormSchema from './schemas/EmployeeFormSchema';\nimport { createEmployee, updateEmployee } from '@/services/EmployeeService';\nexport default {\n  name: 'EmployeeForm',\n  props: [\"formData\", \"submitMode\"],\n  data: function () {\n    return {\n      formSchema: EmployeeFormSchema,\n      formOptions: {\n        validateAfterChanged: true\n      },\n      loadedEmployeeId: \"\",\n      isSaving: false,\n      formModel: {\n        employeeCode: \"\",\n        employeeFullName: \"\",\n        designation: \"\",\n        monthlySalary: \"\"\n      }\n    };\n  },\n  created() {\n    this.formModel.employeeCode = this.formData.employeeCode;\n    this.formModel.employeeFullName = this.formData.employeeFullName;\n    this.formModel.designation = this.formData.designation;\n    this.formModel.monthlySalary = this.formData.monthlySalary;\n    this.loadedEmployeeId = this.formData.employeeId;\n    console.log(\"created - \", this.loadedEmployeeId);\n  },\n  methods: {\n    submitEmployeeDetails() {\n      console.log(this.formModel, this.loadedEmployeeId);\n      if (this.submitMode == \"update\") {\n        updateEmployee(this.loadedEmployeeId, this.formModel).then(response => {\n          var updatedEmployee = response;\n          // go to read mode with updated results\n          console.log(\"in employee form post update: \", updatedEmployee);\n          this.$emit('employeeSaved', JSON.stringify(updatedEmployee));\n        });\n      } else if (this.submitMode == \"create\") {\n        createEmployee(this.formModel).then(response => {\n          var newEmployeeId = response;\n          // go to employee details page for the newly created employee\n          this.$router.push('/referenceData/employees/' + newEmployeeId);\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["EmployeeFormSchema","createEmployee","updateEmployee","name","props","data","formSchema","formOptions","validateAfterChanged","loadedEmployeeId","isSaving","formModel","employeeCode","employeeFullName","designation","monthlySalary","created","formData","employeeId","console","log","methods","submitEmployeeDetails","submitMode","then","response","updatedEmployee","$emit","JSON","stringify","newEmployeeId","$router","push"],"sources":["src/pages/referenceData/forms/EmployeeForm.vue"],"sourcesContent":["<template>\n    <div class=\"tables\">\n        <form action=\"\" @submit.prevent=\"submitEmployeeDetails\" class=\"col-md-9 app-crud-form py-4 my-2\">\n            <vue-form-generator tag=\"div\" :schema=\"formSchema\" :options=\"formOptions\" :model=\"formModel\"/>\n            <div class=\"d-flex justify-content-end mt-3 pr-4\">\n                <button type=\"submit\" class=\"btn btn-primary btn-md\">\n                    {{ isSaving ? 'Saving...' : 'Save' }}\n                </button>\n            </div>\n        </form>\n    </div>\n</template>\n\n<script scoped lang=\"js\">\n\nimport EmployeeFormSchema from './schemas/EmployeeFormSchema';\nimport { createEmployee, updateEmployee } from '@/services/EmployeeService';\n\nexport default {\n    name: 'EmployeeForm',\n    props: [\n        \"formData\",\n        \"submitMode\"\n    ],\n    data: function () {\n        return {\n            formSchema: EmployeeFormSchema,\n            formOptions: {\n                validateAfterChanged: true\n            },\n            loadedEmployeeId: \"\",\n            isSaving: false,\n            formModel: {\n                employeeCode: \"\",\n                employeeFullName: \"\",\n                designation: \"\",\n                monthlySalary: \"\"\n            }\n        }\n    },\n    created() {\n        this.formModel.employeeCode = this.formData.employeeCode;\n        this.formModel.employeeFullName = this.formData.employeeFullName;\n        this.formModel.designation = this.formData.designation;\n        this.formModel.monthlySalary = this.formData.monthlySalary;\n        this.loadedEmployeeId = this.formData.employeeId;\n        console.log(\"created - \" , this.loadedEmployeeId);\n    },\n    methods: {\n        submitEmployeeDetails() {\n            console.log(this.formModel, this.loadedEmployeeId);\n            if(this.submitMode==\"update\") {\n                updateEmployee(this.loadedEmployeeId, this.formModel).then(response => {\n                    var updatedEmployee = response;\n                    // go to read mode with updated results\n                    console.log(\"in employee form post update: \", updatedEmployee);\n                    this.$emit('employeeSaved', JSON.stringify(updatedEmployee));\n                });\n            } else if (this.submitMode == \"create\") {\n                createEmployee(this.formModel).then(response => {\n                    var newEmployeeId = response;\n                    // go to employee details page for the newly created employee\n                    this.$router.push('/referenceData/employees/'+newEmployeeId);\n                })\n            }\n        }\n    }\n}\n</script>"],"mappings":";AAeA,OAAAA,kBAAA;AACA,SAAAC,cAAA,EAAAC,cAAA;AAEA;EACAC,IAAA;EACAC,KAAA,GACA,YACA,aACA;EACAC,IAAA,WAAAA,CAAA;IACA;MACAC,UAAA,EAAAN,kBAAA;MACAO,WAAA;QACAC,oBAAA;MACA;MACAC,gBAAA;MACAC,QAAA;MACAC,SAAA;QACAC,YAAA;QACAC,gBAAA;QACAC,WAAA;QACAC,aAAA;MACA;IACA;EACA;EACAC,QAAA;IACA,KAAAL,SAAA,CAAAC,YAAA,QAAAK,QAAA,CAAAL,YAAA;IACA,KAAAD,SAAA,CAAAE,gBAAA,QAAAI,QAAA,CAAAJ,gBAAA;IACA,KAAAF,SAAA,CAAAG,WAAA,QAAAG,QAAA,CAAAH,WAAA;IACA,KAAAH,SAAA,CAAAI,aAAA,QAAAE,QAAA,CAAAF,aAAA;IACA,KAAAN,gBAAA,QAAAQ,QAAA,CAAAC,UAAA;IACAC,OAAA,CAAAC,GAAA,oBAAAX,gBAAA;EACA;EACAY,OAAA;IACAC,sBAAA;MACAH,OAAA,CAAAC,GAAA,MAAAT,SAAA,OAAAF,gBAAA;MACA,SAAAc,UAAA;QACArB,cAAA,MAAAO,gBAAA,OAAAE,SAAA,EAAAa,IAAA,CAAAC,QAAA;UACA,IAAAC,eAAA,GAAAD,QAAA;UACA;UACAN,OAAA,CAAAC,GAAA,mCAAAM,eAAA;UACA,KAAAC,KAAA,kBAAAC,IAAA,CAAAC,SAAA,CAAAH,eAAA;QACA;MACA,gBAAAH,UAAA;QACAtB,cAAA,MAAAU,SAAA,EAAAa,IAAA,CAAAC,QAAA;UACA,IAAAK,aAAA,GAAAL,QAAA;UACA;UACA,KAAAM,OAAA,CAAAC,IAAA,+BAAAF,aAAA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}